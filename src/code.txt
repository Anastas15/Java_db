// №1
// База

import java.util.Scanner;
public class Main {

    public static void main(String[] args) throws Exception {
        Scanner scanner = new Scanner(System.in);

        MathOperations math = new MathOperations();
        Database db = new Database();

        db.tableInit();

        while (true) {
            System.out.println("Выбрать опцию: 1. Сложение 2. Вычитание 3. Умножение 4. Деление 5. Остаток 6. Модуль 7. Возвести в степень второго числа  8. Выйти");
            int choice = scanner.nextInt();
            if (choice == 8) break;

            System.out.println("Введите первое число: ");
            double num1 = scanner.nextDouble();
            System.out.println("Введите второе число: ");
            double num2 = scanner.nextDouble();
            System.out.println(num2);


            double result = 0;

            switch (choice) {
                case 1:
                    result = math.add(num1, num2);
                    db.save("Addition", num1, num2, result);
                    break;
                case 2:
                    result = math.subtract(num1, num2);
                    db.save("Subtraction", num1, num2, result);
                    break;
                case 3:
                    result = math.multiply(num1, num2);
                    db.save("Multiplication", num1, num2, result);
                    break;
                case 4:
                    result = math.quotient(num1, num2);
                    db.save("Division", num1, num2, result);
                    break;
                case 5:
                    result = math.num1Absolute(num1);
                    db.saveAbs("Num1Absolute", num1, result);
                    break;
                case 6:
                    result = math.num1PowerNum2(num1, num2);
                    db.save("Num1PowerNum2", num1, num2, result);
                    break;
                            
                    
            }

            System.out.println("Результат: " + result);
        }
    }
}import java.sql.Statement;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

public class Database {
    private Connection connect() {
        Connection conn = null;
        try {
            String url = "jdbc:mysql://localhost:3306/your_database?serverTimezone=UTC";
            String user = "root";
            String password = "12345678";
            conn = DriverManager.getConnection(url, user, password);
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
        return conn;
    }
    public void tableInit() throws Exception{
        String sql = "CREATE TABLE IF NOT EXISTS results (" +
                "id INT AUTO_INCREMENT PRIMARY KEY, " +
                "operation VARCHAR(50), " +
                "operand1 DOUBLE, " +
                "operand2 DOUBLE, " +
                "result DOUBLE, " +
                "timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP)";

        try (Connection conn = this.connect(); Statement stmt = conn.createStatement()) {
            stmt.execute(sql);
            System.out.println("Таблица создана.");
        } catch (Exception e) {
            System.out.println("Ошибка: " + e.getMessage());
        }
    }
    public void save(String operation, double num1, double num2, double result) {
        String sql = "INSERT INTO results(operation, operand1, operand2, result) VALUES(?,?,?,?)";

        try (Connection conn = this.connect();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            pstmt.setString(1, operation);
            pstmt.setDouble(2, num1);
            pstmt.setDouble(3, num2);
            pstmt.setDouble(4, result);
            pstmt.executeUpdate();
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
    public void saveAbs(String operation, double num1, double result) {
        String sql = "INSERT INTO results(operation, operand1, result) VALUES(?,?,?)";

        try (Connection conn = this.connect();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            pstmt.setString(1, operation);
            pstmt.setDouble(2, num1);
            pstmt.setDouble(4, result);
            pstmt.executeUpdate();
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }

}
import java.lang.Math;
public class MathOperations {
    public double add(double a, double b) {
        return a + b;
    }

    public double subtract(double a, double b) {
        return a - b;
    }

    public double multiply(double a, double b) {
        return a * b;
    }

    public double quotient(double a, double b) {
        return a / b;
    }

    public double remainder(double a, double b) {
        return a % b;
    }

    public double num1Absolute(double a) {
        return Math.abs(a);
    }

    public double num1PowerNum2(double a, double b) {
        return Math.pow(a, b);
    }}





